import{i as c}from"./isValueEqualOrExist-DxK15QgN.js";import{a as m}from"./useForwardExpose-DqcwLvOy.js";import{i as t}from"./useFormControl-N2leLFZk.js";import{e as a}from"./index-gY0TI7hK.js";function v({type:e,defaultValue:i,modelValue:r}){const n=r||i;return r!==void 0||i!==void 0?Array.isArray(n)?"multiple":"single":e??"single"}function g({type:e,defaultValue:i,modelValue:r}){return e||v({type:e,defaultValue:i,modelValue:r})}function p({type:e,defaultValue:i}){return i!==void 0?i:e==="single"?void 0:[]}function B(e,i){const r=a(()=>g(e)),n=m(e,"modelValue",i,{defaultValue:p(e),passive:e.modelValue===void 0,deep:!0});function o(l){if(r.value==="single")n.value=t(l,n.value)?void 0:l;else{const u=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(c(u,l)){const f=u.findIndex(d=>t(d,l));u.splice(f,1)}else u.push(l);n.value=u}}const s=a(()=>r.value==="single");return{modelValue:n,changeModelValue:o,isSingle:s}}export{B as u};
