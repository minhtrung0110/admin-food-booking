import{u as I}from"./usePrimitiveElement-C-5qN0tI.js";import{c as V}from"./createContext-2ZjIYkVj.js";import{i as _}from"./nullish-CHIgUVhi.js";import{i as g}from"./isValueEqualOrExist-Nc1rH2-Z.js";import{u as P,i as $}from"./useFormControl-CFddRKec.js";import{u as q,a as G}from"./useForwardExpose-DVWe5bFq.js";import{P as w}from"./index-BTa86PfG.js";import{R as M}from"./RovingFocusItem-zikfqql3.js";import{V as j}from"./VisuallyHiddenInput-DQqTOvvL.js";import{d as y,e as m,c as f,o as v,w as n,g as k,A,u as e,m as C,a1 as K,D as N,x as z,i as h}from"./index-BYKe6ZG4.js";import{P as D}from"./Collection-Cb1hO6WB.js";import{c as H}from"./index-D4NkeJUS.js";import{C as L}from"./check-BBsAybNm.js";const[O,ce]=V("CheckboxGroupRoot");function b(r){return r==="indeterminate"}function B(r){return b(r)?"indeterminate":r?"checked":"unchecked"}const[T,J]=V("CheckboxRoot");var Q=y({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(r,{emit:d}){const a=r,l=d,{forwardRef:c,currentElement:p}=q(),o=O(null),s=G(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),u=m(()=>o?.disabled.value||a.disabled),i=m(()=>_(o?.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:g(o.modelValue.value,a.value));function R(){if(_(o?.modelValue.value))s.value=b(s.value)?!0:!s.value;else{const t=[...o.modelValue.value||[]];if(g(t,a.value)){const x=t.findIndex(F=>$(F,a.value));t.splice(x,1)}else t.push(a.value);o.modelValue.value=t}}const S=P(p),E=m(()=>a.id&&p.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return J({disabled:u,state:i}),(t,x)=>(v(),f(z(e(o)?.rovingFocus.value?e(M):e(w)),C(t.$attrs,{id:t.id,ref:e(c),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(b)(i.value)?"mixed":i.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||E.value,"data-state":e(B)(i.value),"data-disabled":u.value?"":void 0,disabled:u.value,focusable:e(o)?.rovingFocus.value?!u.value:void 0,onKeydown:K(N(()=>{},["prevent"]),["enter"]),onClick:R}),{default:n(()=>[k(t.$slots,"default",{modelValue:e(s),state:i.value}),e(S)&&t.name&&!e(o)?(v(),f(e(j),{key:0,type:"checkbox",checked:!!i.value,name:t.name,value:t.value,disabled:u.value,required:t.required},null,8,["checked","name","value","disabled","required"])):A("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),U=Q,W=y({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const{forwardRef:d}=q(),a=T();return(l,c)=>(v(),f(e(D),{present:l.forceMount||e(b)(e(a).state.value)||e(a).state.value===!0},{default:n(()=>[h(e(w),C({ref:e(d),"data-state":e(B)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:n(()=>[k(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),X=W;const pe=y({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:d}){const a=r,l=d,c=m(()=>{const{class:o,...s}=a;return s}),p=I(c,l);return(o,s)=>(v(),f(e(U),C({"data-slot":"checkbox"},e(p),{class:e(H)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:n(()=>[h(e(X),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:n(()=>[k(o.$slots,"default",{},()=>[h(e(L),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{pe as _};
