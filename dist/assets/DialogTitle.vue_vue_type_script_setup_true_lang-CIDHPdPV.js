import{g as E,d as h,u as F,b as I}from"./usePrimitiveElement-BtVGfiza.js";import{d as _,b as B,N as R,g as c,u as e,c as p,o as f,w as d,m as v,X as A,i as C,A as T,q as x,t as K,e as q,f as z}from"./index-BKPedEfM.js";import{a as N,u as y}from"./useForwardExpose-B2_o370m.js";import{P as b}from"./index-CXxZOWHz.js";import{u as P,P as k}from"./Collection-BmONib_d.js";import{g as V,F as S,c as L,b as j}from"./utils-rklSoybf.js";import{D as X,T as H}from"./PopperContent-D_-284Fn.js";import{c as w}from"./index-D4NkeJUS.js";import{X as U}from"./x-B8LrRbPQ.js";import{c as G}from"./createContext-CjwqaJ9l.js";const[D,J]=G("DialogRoot");var Q=_({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(r,{emit:s}){const t=r,o=N(t,"open",s,{defaultValue:t.defaultOpen,passive:t.open===void 0}),l=B(),g=B(),{modal:u}=R(t);return J({open:o,modal:u,openModal:()=>{o.value=!0},onOpenChange:i=>{o.value=i},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:l,contentElement:g}),(i,n)=>c(i.$slots,"default",{open:e(o),close:()=>o.value=!1})}}),W=Q,Y=_({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const s=r;y();const t=D();return(a,o)=>(f(),p(e(b),v(s,{type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=l=>e(t).onOpenChange(!1))}),{default:d(()=>[c(a.$slots,"default")]),_:3},16,["type"]))}}),Z=Y,ee=_({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const t=r,a=s,o=D(),{forwardRef:l,currentElement:g}=y();return o.titleId||=P(void 0,"reka-dialog-title"),o.descriptionId||=P(void 0,"reka-dialog-description"),A(()=>{o.contentElement=g,E()!==document.body&&(o.triggerElement.value=E())}),(u,i)=>(f(),p(e(S),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=n=>a("openAutoFocus",n)),onUnmountAutoFocus:i[6]||(i[6]=n=>a("closeAutoFocus",n))},{default:d(()=>[C(e(X),v({id:e(o).contentId,ref:e(l),as:u.as,"as-child":u.asChild,"disable-outside-pointer-events":u.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(V)(e(o).open.value)},u.$attrs,{onDismiss:i[0]||(i[0]=n=>e(o).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=n=>a("escapeKeyDown",n)),onFocusOutside:i[2]||(i[2]=n=>a("focusOutside",n)),onInteractOutside:i[3]||(i[3]=n=>a("interactOutside",n)),onPointerDownOutside:i[4]||(i[4]=n=>a("pointerDownOutside",n))}),{default:d(()=>[c(u.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),M=ee,te=_({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const t=r,a=s,o=D(),l=h(a),{forwardRef:g,currentElement:u}=y();return L(u),(i,n)=>(f(),p(M,v({...t,...e(l)},{ref:e(g),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:n[0]||(n[0]=m=>{m.defaultPrevented||(m.preventDefault(),e(o).triggerElement.value?.focus())}),onPointerDownOutside:n[1]||(n[1]=m=>{const O=m.detail.originalEvent,$=O.button===0&&O.ctrlKey===!0;(O.button===2||$)&&m.preventDefault()}),onFocusOutside:n[2]||(n[2]=m=>{m.preventDefault()})}),{default:d(()=>[c(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),oe=te,ae=_({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const t=r,o=h(s);y();const l=D(),g=B(!1),u=B(!1);return(i,n)=>(f(),p(M,v({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:n[0]||(n[0]=m=>{m.defaultPrevented||(g.value||e(l).triggerElement.value?.focus(),m.preventDefault()),g.value=!1,u.value=!1}),onInteractOutside:n[1]||(n[1]=m=>{m.defaultPrevented||(g.value=!0,m.detail.originalEvent.type==="pointerdown"&&(u.value=!0));const O=m.target;e(l).triggerElement.value?.contains(O)&&m.preventDefault(),m.detail.originalEvent.type==="focusin"&&u.value&&m.preventDefault()})}),{default:d(()=>[c(i.$slots,"default")]),_:3},16))}}),se=ae,re=_({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const t=r,a=s,o=D(),l=h(a),{forwardRef:g}=y();return(u,i)=>(f(),p(e(k),{present:u.forceMount||e(o).open.value},{default:d(()=>[e(o).modal.value?(f(),p(oe,v({key:0,ref:e(g)},{...t,...e(l),...u.$attrs}),{default:d(()=>[c(u.$slots,"default")]),_:3},16)):(f(),p(se,v({key:1,ref:e(g)},{...t,...e(l),...u.$attrs}),{default:d(()=>[c(u.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),le=re,ne=_({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(r){const s=r;y();const t=D();return(a,o)=>(f(),p(e(b),v(s,{id:e(t).descriptionId}),{default:d(()=>[c(a.$slots,"default")]),_:3},16,["id"]))}}),ue=ne,ie=_({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const s=D();return j(!0),y(),(t,a)=>(f(),p(e(b),{as:t.as,"as-child":t.asChild,"data-state":e(s).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:d(()=>[c(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),de=ie,pe=_({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const s=D(),{forwardRef:t}=y();return(a,o)=>e(s)?.modal.value?(f(),p(e(k),{key:0,present:a.forceMount||e(s).open.value},{default:d(()=>[C(de,v(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:d(()=>[c(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):T("v-if",!0)}}),fe=pe,ce=_({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(r){const s=r;return(t,a)=>(f(),p(e(H),x(K(s)),{default:d(()=>[c(t.$slots,"default")]),_:3},16))}}),_e=ce,ge=_({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(r){const s=r,t=D();return y(),(a,o)=>(f(),p(e(b),v(s,{id:e(t).titleId}),{default:d(()=>[c(a.$slots,"default")]),_:3},16,["id"]))}}),me=ge,ve=_({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const s=r,t=D(),{forwardRef:a,currentElement:o}=y();return t.contentId||=P(void 0,"reka-dialog-content"),A(()=>{t.triggerElement.value=o.value}),(l,g)=>(f(),p(e(b),v(s,{ref:e(a),type:l.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:d(()=>[c(l.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ye=ve;const Ie=_({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:s}){const o=F(r,s);return(l,g)=>(f(),p(e(W),v({"data-slot":"dialog"},e(o)),{default:d(()=>[c(l.$slots,"default")]),_:3},16))}}),De=_({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,t=q(()=>{const{class:a,...o}=s;return o});return(a,o)=>(f(),p(e(fe),v({"data-slot":"dialog-overlay"},t.value,{class:e(w)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s.class)}),{default:d(()=>[c(a.$slots,"default")]),_:3},16,["class"]))}}),Ae=_({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const t=r,a=s,o=q(()=>{const{class:g,...u}=t;return u}),l=F(o,a);return(g,u)=>(f(),p(e(_e),null,{default:d(()=>[C(De),C(e(le),v({"data-slot":"dialog-content"},e(l),{class:e(w)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t.class)}),{default:d(()=>[c(g.$slots,"default"),C(e(Z),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},{default:d(()=>[C(e(U)),u[0]||(u[0]=z("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}}),ke=_({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return(t,a)=>(f(),p(e(ye),v({"data-slot":"dialog-trigger"},s),{default:d(()=>[c(t.$slots,"default")]),_:3},16))}}),Me=_({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,t=q(()=>{const{class:o,...l}=s;return l}),a=I(t);return(o,l)=>(f(),p(e(ue),v({"data-slot":"dialog-description"},e(a),{class:e(w)("text-muted-foreground text-sm",s.class)}),{default:d(()=>[c(o.$slots,"default")]),_:3},16,["class"]))}}),Re=_({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,t=q(()=>{const{class:o,...l}=s;return l}),a=I(t);return(o,l)=>(f(),p(e(me),v({"data-slot":"dialog-title"},e(a),{class:e(w)("text-lg leading-none font-semibold",s.class)}),{default:d(()=>[c(o.$slots,"default")]),_:3},16,["class"]))}});export{W as D,Ie as _,fe as a,_e as b,le as c,Z as d,ue as e,me as f,ke as g,Ae as h,Re as i,Me as j,ye as k};
