import{_ as O}from"./Card.vue_vue_type_script_setup_true_lang-oqfdWscr.js";import{_ as L}from"./CardFooter.vue_vue_type_script_setup_true_lang-TvS_Tyhh.js";import{P as F,_ as Q}from"./index-CXxZOWHz.js";import{_ as W,a as X,b as J,c as Y}from"./CardHeader.vue_vue_type_script_setup_true_lang-Io3Pc94m.js";import{a as Z,c as ee,g as te,u as ae,b as T}from"./usePrimitiveElement-BtVGfiza.js";import{c as le}from"./createContext-CjwqaJ9l.js";import{u as ne,a as oe}from"./useForwardExpose-B2_o370m.js";import{V as se}from"./VisuallyHiddenInput-BhO9U9zG.js";import{d as B,N as re,e as m,b as K,G,c as N,o as I,w as u,g as D,i as d,u as o,m as U,X as ue,a0 as ie,a1 as R,Q as de,h as z,f as A,p as k,C as pe,F as ce,z as me}from"./index-BKPedEfM.js";import{c as S}from"./index-D4NkeJUS.js";import{u as fe}from"./useArrowNavigation-C6Y-ieo6.js";import{_ as _e}from"./auth-title.vue_vue_type_script_setup_true_lang-BZNIed8p.js";import"./VisuallyHidden-xBlNsGog.js";import"./index-B8HsVOvz.js";const[ve,ge]=le("PinInputRoot");var ye=B({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1,default:""},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","complete"],setup(f,{emit:n}){const t=f,s=n,{mask:a,otp:i,placeholder:_,type:v,disabled:h,dir:x}=re(t),{forwardRef:q}=ne(),b=Z(x),p=oe(t,"modelValue",s,{defaultValue:t.defaultValue??[],passive:t.modelValue===void 0}),V=m(()=>Array.isArray(p.value)?[...p.value]:[]),g=K(new Set);function P(c){g.value.add(c)}const C=m(()=>t.type==="number"),$=m(()=>V.value.filter(w=>!!w||C.value&&w===0).length===g.value.size);return G(p,()=>{$.value&&s("complete",p.value)},{deep:!0}),ge({modelValue:p,currentModelValue:V,mask:a,otp:i,placeholder:_,type:v,dir:b,disabled:h,isCompleted:$,inputElements:g,onInputElementChange:P,isNumericMode:C}),(c,w)=>(I(),N(o(F),U(c.$attrs,{ref:o(q),dir:o(b),"data-complete":$.value?"":void 0,"data-disabled":o(h)?"":void 0}),{default:u(()=>[D(c.$slots,"default",{modelValue:o(p)}),d(se,{id:c.id,as:"input",feature:"focusable",tabindex:"-1",value:V.value.join(""),name:c.name??"",disabled:o(h),required:c.required,onFocus:w[0]||(w[0]=M=>Array.from(g.value)?.[0]?.focus())},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),he=ye,xe=B({__name:"PinInputInput",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(f){const n=f,t=ve(),s=m(()=>Array.from(t.inputElements.value)),a=m(()=>t.currentModelValue.value[n.index]),i=m(()=>n.disabled||t.disabled.value),_=m(()=>t.otp.value),v=m(()=>t.mask.value),{primitiveElement:h,currentElement:x}=ee();function q(e){const l=e.target;if((e.data?.length??0)>1){c(l.value);return}if(t.isNumericMode.value&&!/^\d*$/.test(l.value)){l.value=l.value.replace(/\D/g,"");return}l.value=e.data??"",M(n.index,l.value);const r=s.value[n.index+1];r&&r.focus()}function b(){const e=x.value;de(()=>{e&&!e.value&&(e.placeholder=t.placeholder.value)})}function p(e){fe(e,te(),void 0,{itemsArray:s.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:t.dir.value})}function V(e){if(e.preventDefault(),e.target.value)M(n.index,"");else{const y=s.value[n.index-1];y&&(y.focus(),M(n.index-1,""))}}function g(e){e.key==="Delete"&&(e.preventDefault(),M(n.index,""))}function P(e){const l=e.target;l.setSelectionRange(1,1),l.value||(l.placeholder="")}function C(e){b()}function $(e){e.preventDefault();const l=e.clipboardData;if(!l)return;const r=l.getData("text");c(r)}function c(e){const l=[...t.currentModelValue.value],r=e.length>=s.value.length?0:n.index,y=Math.min(r+e.length,s.value.length);for(let E=r;E<y;E++){const H=s.value[E],j=e[E-r];t.isNumericMode.value&&!/^\d*$/.test(j)||(l[E]=j,H.focus())}t.modelValue.value=l,s.value[y]?.focus()}function w(e){let l=e.length-1;for(;l>=0&&e[l]==="";)e.pop(),l--;return e}function M(e,l){const r=[...t.currentModelValue.value];if(t.isNumericMode.value){const y=+l;l===""||isNaN(y)?delete r[e]:r[e]=y}else r[e]=l;t.modelValue.value=w(r)}return G(a,()=>{a.value||b()}),ue(()=>{t.onInputElementChange(x.value)}),ie(()=>{t.inputElements?.value.delete(x.value)}),(e,l)=>(I(),N(o(F),{ref_key:"primitiveElement",ref:h,autocapitalize:"none",as:e.as,"as-child":e.asChild,autocomplete:_.value?"one-time-code":"false",type:v.value?"password":"text",inputmode:o(t).isNumericMode.value?"numeric":"text",pattern:o(t).isNumericMode.value?"[0-9]*":void 0,placeholder:o(t).placeholder.value,value:a.value,disabled:i.value,"data-disabled":i.value?"":void 0,"data-complete":o(t).isCompleted.value?"":void 0,"aria-label":`pin input ${e.index+1} of ${s.value.length}`,onInput:l[0]||(l[0]=r=>q(r)),onKeydown:[R(p,["left","right","up","down","home","end"]),R(V,["backspace"]),R(g,["delete"])],onFocus:P,onBlur:C,onPaste:$},{default:u(()=>[D(e.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),be=xe;const Ve=B({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(f,{emit:n}){const t=f,s=n,a=m(()=>{const{class:_,...v}=t;return v}),i=ae(a,s);return(_,v)=>(I(),N(o(he),U(o(i),{class:o(S)("flex gap-2 items-center",t.class)}),{default:u(()=>[D(_.$slots,"default")]),_:3},16,["class"]))}}),Pe=B({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(f){const n=f,t=m(()=>{const{class:a,...i}=n;return i}),s=T(t);return(a,i)=>(I(),N(o(F),U(o(s),{class:o(S)("flex items-center",n.class)}),{default:u(()=>[D(a.$slots,"default")]),_:3},16,["class"]))}}),we=B({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(f){const n=f,t=m(()=>{const{class:a,...i}=n;return i}),s=T(t);return(a,i)=>(I(),N(o(be),U(o(s),{class:o(S)("relative text-center focus:outline-hidden focus:ring-2 focus:ring-ring focus:relative focus:z-10 flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",n.class)}),null,16,["class"]))}}),Ie={class:"flex items-center justify-center min-h-screen p-4 min-w-screen"},Ce={class:"flex flex-col gap-4"},Be={class:"grid items-center justify-center gap-2"},Te=B({__name:"otp",setup(f){const n=K([]);function t(s){alert(s.join(""))}return(s,a)=>{const i=X,_=J,v=W,h=we,x=Pe,q=Ve,b=Y,p=Q,V=L,g=O;return I(),z("div",Ie,[A("main",Ce,[d(_e),d(g,{class:"w-full max-w-sm"},{default:u(()=>[d(v,null,{default:u(()=>[d(i,{class:"text-2xl"},{default:u(()=>a[1]||(a[1]=[k(" Two-Factor Authentication ",-1)])),_:1,__:[1]}),d(_,null,{default:u(()=>a[2]||(a[2]=[k(" Please enter the authentication code.We have sent the authentication code to your email. ",-1)])),_:1,__:[2]})]),_:1}),d(b,{class:"grid gap-4"},{default:u(()=>[A("div",Be,[d(q,{id:"pin-input",modelValue:o(n),"onUpdate:modelValue":a[0]||(a[0]=P=>pe(n)?n.value=P:null),placeholder:"â—‹",onComplete:t},{default:u(()=>[a[3]||(a[3]=A("span",{class:"text-xl"},"SA",-1)),a[4]||(a[4]=A("span",null,"-",-1)),d(x,null,{default:u(()=>[(I(),z(ce,null,me(6,(P,C)=>d(h,{key:P,index:C},null,8,["index"])),64))]),_:1})]),_:1,__:[3,4]},8,["modelValue"])])]),_:1}),d(V,{class:"flex flex-col gap-2"},{default:u(()=>[d(p,{class:"w-full",disabled:o(n).length<6},{default:u(()=>a[5]||(a[5]=[k(" Verify ",-1)])),_:1,__:[5]},8,["disabled"]),d(_,null,{default:u(()=>[a[7]||(a[7]=k(" Haven't received it? ",-1)),d(p,{variant:"link",class:"px-0 text-muted-foreground"},{default:u(()=>a[6]||(a[6]=[k(" Resend a new code. ",-1)])),_:1,__:[6]})]),_:1,__:[7]})]),_:1})]),_:1})])])}}});export{Te as default};
